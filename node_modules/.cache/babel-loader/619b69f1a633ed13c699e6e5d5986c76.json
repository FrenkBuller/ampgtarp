{"remainingRequest":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\authorization\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\authorization\\index.vue","mtime":1558952847000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { connect } from 'net';\nexport default {\n  data: function data() {\n    return {\n      hasLog: true,\n      show: false,\n      password: '',\n      login: '',\n      hasRememberMe: false,\n      regName: '',\n      regSurname: '',\n      regPassword: '',\n      regPasswordTest: '',\n      regEmail: '',\n      regPromo: ''\n    };\n  },\n  methods: {\n    hide: function hide() {\n      this.show = false;\n    },\n    start: function start(login) {\n      var hasReg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      try {\n        this.hasLog = !hasReg;\n        this.login = login;\n        this.show = true;\n      } catch (e) {}\n    },\n    auth: function auth() {\n      try {\n        var emailFilter = /^\\b[-._0-9a-zA-Z]+@[-._0-9a-zA-Z]+[\\.]{1}[0-9a-zA-Z]+[\\.]?[0-9a-zA-Z]\\b$/;\n\n        if (this.hasLog) {\n          var email = this.login;\n          var pass = this.password;\n          var check = this.hasRememberMe;\n          if (email.length < 1) return mp.trigger('alert', \"\\u0412\\u044B \\u043D\\u0435 \\u0432\\u0432\\u0435\\u043B\\u0438 E-mail\", 1);\n          if (pass.length < 1) return mp.trigger('alert', \"\\u0412\\u044B \\u043D\\u0435 \\u0432\\u0432\\u0435\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\", 1);\n          if (!emailFilter.test(email) && !/([A-z]{1,})_([A-z]{1,})/.test(email) && !/([A-z]{1,}) ([A-z]{1,})/.test(email)) return mp.trigger('alert', \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D\", 1);\n          mp.trigger('AUTHORIZETE::CHECK_AUTH', email, pass, check);\n        } else {\n          var name = this.regName;\n          var surname = this.regSurname;\n          var _pass = this.regPassword;\n          var pass_test = this.regPasswordTest;\n          var _email = this.regEmail;\n          var regPromo = this.regPromo;\n          var _check = false;\n          var userFilter = /^([a-zA-Z0-9_\\-])+$/;\n          var passFilter = /^[a-zA-Z0-9,!,%,&,@,#,$,\\^,*,?,_,~,+]*$/;\n          if (name.length < 1) return mp.trigger('alert', \"\\u0418\\u043C\\u044F \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0431\\u044B\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 3 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\", 1);\n          if (surname.length < 1) return mp.trigger('alert', \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0431\\u044B\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 3 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\", 1);\n          if (_email.length < 1) return mp.trigger('alert', \"\\u0412\\u044B \\u043D\\u0435 \\u0432\\u0432\\u0435\\u043B\\u0438 E-mail\", 1);\n          if (_pass.length < 1) return mp.trigger('alert', \"\\u0412\\u044B \\u043D\\u0435 \\u0432\\u0432\\u0435\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\", 1);\n          if (!userFilter.test(name)) return mp.trigger('alert', \"\\u0418\\u043C\\u044F \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0438\\u0437 \\u0430\\u043D\\u0433\\u043B\\u0438\\u0439\\u0441\\u043A\\u0438\\u0445 \\u0431\\u0443\\u043A\\u0432\", 1);\n          if (!userFilter.test(surname)) return mp.trigger('alert', \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0438\\u0437 \\u0430\\u043D\\u0433\\u043B\\u0438\\u0439\\u0441\\u043A\\u0438\\u0445 \\u0431\\u0443\\u043A\\u0432\", 1);\n          if (!emailFilter.test(_email)) return mp.trigger('alert', \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 E-mail\", 1);\n          if (!passFilter.test(_pass)) return mp.trigger('alert', \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0438\\u0437 \\u0430\\u043D\\u0433\\u043B\\u0438\\u0441\\u043A\\u0438\\u0445 \\u0431\\u0443\\u043A\\u0432 \\u0438 \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 5\", 1);\n          if (_pass != pass_test) return mp.trigger('alert', 'Пароли не совпадает');\n          mp.trigger('AUTHORIZETE::CHECK_REG', name, surname, _pass, _email, _check, regPromo);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    focus: function focus(ref) {\n      try {\n        this.$refs[ref].focus();\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  },\n  computed: {},\n  created: function created() {\n    window.auth = this;\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"authorization\" v-if=\"show\">\n        <div class=\"container\">\n            <div class=\"row justify-content-center\">\n                <div class=\"col-sm-7\">\n                <div class=\"authorization-head\">\n                    <img :src=\"$root.cdn+'img/authorization/logo.png'\"   alt=\"\">\n                </div>\n            </div>\n                <div class=\"col-sm-7\" v-if=\"hasLog\">\n                    <div class=\"auth\">\n                        <h2>Вход в аккаунт</h2>\n                        <input v-model=\"login\" type=\"text\" placeholder=\"Логин/E-mail\" @keyup.enter=\"focus('passwordInput')\">\n                        <input v-model=\"password\" type=\"password\" placeholder=\"Пароль\" ref=\"passwordInput\" @keyup.enter=\"auth\">\n                        <div class=\"password\">\n                            <div class=\"password-checkpoint\" @click=\"hasRememberMe = !hasRememberMe\" :class=\"{active: hasRememberMe}\">\n                            </div>\n                            <p>Запомнить меня</p>\n                            <a >Восстановить пароль</a>\n                        </div>\n                        <div class=\"button\" @click=\"auth\">Вход</div>\n                        <div class=\"registration\" @click=\"hasLog = false\">\n                            <a >Регистрация</a>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-sm-7\" v-else>\n                    <div class=\"registration\">\n                    <h2>Регистрация</h2>\n                    <div class=\"form\">\n                        <input v-model=\"regName\" type=\"text\" placeholder=\"Имя\" @keyup.enter=\"focus('regSurnameInput')\">\n                        <input v-model=\"regSurname\" type=\"text\" placeholder=\"Фамилия\" ref=\"regSurnameInput\" @keyup.enter=\"focus('regEmailInput')\">\n                        <input v-model=\"regEmail\" type=\"text\" placeholder=\"E-mail\" ref=\"regEmailInput\" @keyup.enter=\"focus('regPasswordInput')\">\n                        <input v-model=\"regPassword\" type=\"password\" placeholder=\"Пароль\" ref=\"regPasswordInput\" @keyup.enter=\"focus('regPasswordTestInput')\">\n                        <input v-model=\"regPasswordTest\" type=\"password\" placeholder=\"Повторите пароль\" ref=\"regPasswordTestInput\" @keyup.enter=\"focus('regPeomoInput')\">\n                        <input v-model=\"regPromo\" type=\"text\" placeholder=\"Реферальный код (необязательно)\" ref=\"regPeomoInput\" @keyup.enter=\"auth\">\n                    </div>\n                    <div class=\"button\" @click=\"auth\">Зарегистрироваться</div>\n                    <div class=\"checkReg\">\n                        <div class=\"password-checkpoint\" @click=\"hasRememberMe = !hasRememberMe\" :class=\"{active: hasRememberMe}\">\n                        </div>\n                        <p>Запомнить меня</p>\n                    </div>\n                    <p class=\"hasReg\">Уже зарегистрированы?</p>\n                    <a @click=\"hasLog = true\">Вход</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<style src=\"../../styles/authorization.scss\" lang=\"scss\"></style>\n\n<script>\nimport { connect } from 'net';\nexport default {\n    data() {\n        return {\n            hasLog: true,\n            show: false,\n            password: '',\n            login: '',\n            hasRememberMe: false,\n            regName: '',\n            regSurname: '',\n            regPassword: '',\n            regPasswordTest: '',\n            regEmail: '',\n            regPromo: '',\n        };\n    },\n    methods: {\n        hide(){\n            this.show = false;\n        },\n        start(login,hasReg = false){\n            try{\n\n                this.hasLog = !hasReg;\n                this.login = login;\n                this.show = true;\n            }catch(e){}\n        },\n        auth(){\n            try{\n\n                let emailFilter = /^\\b[-._0-9a-zA-Z]+@[-._0-9a-zA-Z]+[\\.]{1}[0-9a-zA-Z]+[\\.]?[0-9a-zA-Z]\\b$/;\n                if(this.hasLog){\n                    let email = this.login;\n                    let pass = this.password;\n                    let check = this.hasRememberMe;\n                    if(email.length<1)return mp.trigger('alert',`Вы не ввели E-mail`,1);\n                    if(pass.length<1)return mp.trigger('alert',`Вы не ввели пароль`,1);\n                    if(!emailFilter.test(email) && !/([A-z]{1,})_([A-z]{1,})/.test(email) && !/([A-z]{1,}) ([A-z]{1,})/.test(email))return mp.trigger('alert',`Неверный логин`,1);\n                    mp.trigger('AUTHORIZETE::CHECK_AUTH',email,pass,check);\n                }else{\n                    let name = this.regName;\n                    let surname = this.regSurname;\n                    let pass = this.regPassword;\n                    let pass_test = this.regPasswordTest;\n                    let email = this.regEmail;\n                    let regPromo = this.regPromo;\n                    let check = false;\n                    let userFilter = /^([a-zA-Z0-9_\\-])+$/;\n                    let passFilter = /^[a-zA-Z0-9,!,%,&,@,#,$,\\^,*,?,_,~,+]*$/;\n                    if(name.length<1)return mp.trigger('alert',`Имя должно быть больше 3 символов`,1);\n                    if(surname.length<1)return mp.trigger('alert',`Фамилия должно быть больше 3 символов`,1);\n                    if(email.length<1)return mp.trigger('alert',`Вы не ввели E-mail`,1);\n                    if(pass.length<1)return mp.trigger('alert',`Вы не ввели пароль`,1);\n                    if(!userFilter.test(name))return mp.trigger('alert',`Имя должно состоять из английских букв`,1);\n                    if(!userFilter.test(surname))return mp.trigger('alert',`Фамилия должно состоять из английских букв`,1);\n                    if(!emailFilter.test(email))return mp.trigger('alert',`Неверный E-mail`,1);\n                    if(!passFilter.test(pass))return mp.trigger('alert',`Пароль должен состоять из англиских букв и должен быть больше 5`,1);\n                    if(pass != pass_test) return mp.trigger('alert','Пароли не совпадает');\n                    mp.trigger('AUTHORIZETE::CHECK_REG',name,surname,pass,email,check,regPromo);\n                }\n            }catch(e){\n                console.error(e)\n            }\n        },\n        focus(ref){\n            try{\n\n                this.$refs[ref].focus();\n            }catch(e){\n                console.error(e)\n            }\n        }\n    },\n    computed: {\n    },\n    created(){\n        window.auth = this;\n    },\n};\n</script>"],"sourceRoot":"src/authorization"}]}