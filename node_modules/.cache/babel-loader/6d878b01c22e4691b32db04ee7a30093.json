{"remainingRequest":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\listPlayers\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\listPlayers\\index.vue","mtime":1558952847000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { constants } from 'fs';\nexport default {\n  data: function data() {\n    return {\n      show: false,\n      title: 'West RolePlay',\n      reverse: false,\n      sortKey: 'id',\n      columnsInfo: ['id', 'Имя', 'Фракция', 'Пинг'],\n      columns_sortInfo: ['id', 'name', 'fractions', 'ping'],\n      search: '',\n      hasShowFraction: false,\n      players: []\n    };\n  },\n  methods: {\n    sortBy: function sortBy(key) {\n      try {\n        var sortKey = this.columns_sort[this.columns.indexOf(key)];\n        this.reverse = this.sortKey == sortKey ? !this.reverse : false;\n        this.sortKey = sortKey;\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    hide: function hide() {\n      this.show = false;\n      mp.trigger(\"guitoggle\", this.show);\n    }\n  },\n  computed: {\n    sortedPlayers: function sortedPlayers() {\n      var _this = this;\n\n      var k = this.sortKey;\n      return this.players.sort(function (a, b) {\n        return (a[k] < b[k] ? -1 : a[k] > b[k] ? 1 : 0) * [1, -1][+_this.reverse];\n      });\n    },\n    filteredPlayers: function filteredPlayers() {\n      var s = this.search.toLowerCase();\n      var columns_sort = this.columns_sort;\n      var sortedPlayers = this.sortedPlayers;\n      var sort = sortedPlayers.map(function (item) {\n        var info = {};\n        return columns_sort.forEach(function (key) {\n          info[key] = item[key];\n        });\n        return info;\n      });\n      var t = sortedPlayers.filter(function (n) {\n        return Object.values(n).some(function (m) {\n          return m.toString().toLowerCase().includes(s);\n        });\n      });\n      return t;\n    },\n    columns: function columns() {\n      if (this.hasShowFraction) return this.columnsInfo;else return ['id', 'Имя', 'Пинг'];\n    },\n    columns_sort: function columns_sort() {\n      if (this.hasShowFraction) return this.columns_sortInfo;else return ['id', 'name', 'ping'];\n    }\n  },\n  created: function created() {\n    window.list_players = this;\n\n    window.TogglewPlayersList = function (toggle) {\n      list_players.show = toggle;\n      mp.trigger(\"guitoggle\", toggle);\n\n      if (!toggle) {\n        list_players.search = '';\n      } else {\n        mp.trigger('CallRemote', \"ShowPlayersList\");\n      }\n    };\n\n    mp.on('ShowPlayersList', function (ret) {\n      list_players.players = ret;\n    });\n    $(\"body\").keyup(function (event) {\n      if (event.which == 27 && list_players.show) {\n        list_players.hide();\n      }\n    });\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div v-if=\"show\" class=\"list_players\" id=\"list_players\">\n\t\t<div class=\"title\">\n\t\t\t<h1>{{title}}</h1>\n\t\t\t<p class=\"players\">Игроков <span>{{players.length}}/800</span></p>\n\t\t\t <div class=\"input\">\n\t\t\t \t\t<i class=\"fas fa-search\"></i>\n\t\t\t \t\t<input v-model=\"search\" type=\"text\" placeholder=\"Поиск игрока...\">\n\t\t\t </div>\n\t\t</div>\n\t\t<div class=\"list\">\n\t\t\t<table>\n      \t<thead>\n          <tr>\n            <th v-for=\"(column,i) in columns\" :key=\"i\">\n            \t<span  @click=\"sortBy(column)\">\n\t            \t{{ column }} \n\t            \t<span :class=\"{ active: sortKey == columns_sort[columns.indexOf(column)] }\">\n                        <i v-if=\"sortKey ==  columns_sort[columns.indexOf(column)] && reverse\"   class=\"fas fa-sort-amount-up\"></i>\n                        <i v-else  class=\"fa fa-sort-amount-down\"></i>\n\t            \t</span>\n            \t</span>\n          \t</th>\n          </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(player,i) in filteredPlayers\" :key=\"i\">\n              <td>{{player.id}}</td>\n              <td>{{player.name}}</td>\n              <td v-if=\"hasShowFraction\">{{player.fractions}}</td>\n              <td>{{player.ping}}</td>\n            </tr>\n          </tbody>\n        </table>\n\t\t</div>\n\t</div>\n\n</template>\n<style src=\"../../styles/list_players.scss\"></style>\n\n<script>\nimport { constants } from 'fs';\nexport default {\n    data() {\n        return {\n            show: false,\n            title: 'West RolePlay',\n            reverse: false,\n            sortKey: 'id',\n            columnsInfo: ['id', 'Имя','Фракция','Пинг'],\n            columns_sortInfo: ['id', 'name','fractions','ping'],\n            search: '',\n            hasShowFraction: false,\n            players: []\n        };\n    },\n    methods: {\n        sortBy(key) {\n            try{\n                let sortKey = this.columns_sort[this.columns.indexOf(key)];\n                this.reverse = (this.sortKey == sortKey) ? !this.reverse : false;\n                this.sortKey = sortKey;\n            }catch(e){\n                console.error(e)\n            }\n        },\n        hide(){\n            this.show = false;\n            mp.trigger(\"guitoggle\", this.show);\n        },\n    },\n    computed: {\n        sortedPlayers() {\n            const k = this.sortKey;\n            return this.players.sort((a, b) => (a[k] < b[k] ? -1 : a[k] > b[k] ? 1 : 0) * [1, -1][+this.reverse]);\n        },\n        filteredPlayers() {\n            const s = this.search.toLowerCase();\n            let columns_sort = this.columns_sort;\n            let sortedPlayers = this.sortedPlayers;\n            let sort = sortedPlayers.map((item)=>{\n                let info = {};\n                return columns_sort.forEach((key)=>{\n                    info[key] = item[key];\n                })\n                return info\n            })\n            let t = sortedPlayers.filter(n => Object.values(n).some(m => m.toString().toLowerCase().includes(s)));\n            return t;\n        },\n        columns(){\n            if(this.hasShowFraction) return this.columnsInfo;\n            else return ['id', 'Имя','Пинг'];\n        },\n        columns_sort(){\n            if(this.hasShowFraction) return this.columns_sortInfo;\n            else return ['id', 'name','ping'];\n        }\n    },\n    created(){\n        window.list_players = this;\n        window.TogglewPlayersList =  (toggle)=>{\n            list_players.show = toggle;\n            mp.trigger(\"guitoggle\", toggle);\n            if(!toggle){\n                list_players.search = '';\n            }else{\n                mp.trigger('CallRemote',\"ShowPlayersList\")\n            }\n        }\n        mp.on('ShowPlayersList',(ret)=>{\n            list_players.players = ret;\n        })\n        $(\"body\").keyup(function(event){\n            if(event.which == 27 && list_players.show){\n                list_players.hide();\n            }\n        })\n    },\n};\n</script>"],"sourceRoot":"src/listPlayers"}]}