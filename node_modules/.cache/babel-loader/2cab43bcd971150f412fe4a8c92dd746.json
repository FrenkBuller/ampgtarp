{"remainingRequest":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\collector\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\collector\\index.vue","mtime":1558952847000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      show: false,\n      active: 0,\n      lobbys: [{\n        players: [{\n          name: 'Test test',\n          mission: 'Водитель'\n        }]\n      }, {\n        players: [{\n          name: 'Test test',\n          mission: 'Водитель'\n        }]\n      }],\n      mission: -1\n    };\n  },\n  methods: {\n    hide: function hide() {\n      this.show = false;\n      mp.trigger('COLLECTOR::MENU_HIDE');\n    },\n    joinLobby: function joinLobby(id) {\n      if (id == this.active) return;\n      mp.trigger('CallRemote', \"COLLECTOR::JOIN_LOBBY\", id);\n    },\n    kickLobby: function kickLobby(id) {\n      mp.trigger('CallRemote', 'COLLECTOR::KICK_LOBBY', id);\n    },\n    startMisson: function startMisson() {\n      mp.trigger('CallRemote', 'COLLECTOR::START_MISION');\n    }\n  },\n  computed: {},\n  created: function created() {\n    var _this = this;\n\n    window.collector = this;\n    mp.on(\"COLLECTOR::MENU_UPDATE\", function (lobbys) {\n      _this.lobbys = lobbys;\n    });\n    mp.on(\"COLLECTOR::ACTIVE_LOBBY\", function (lobby, mission) {\n      _this.active = lobby;\n      _this.mission = mission;\n    });\n    $(\"body\").keyup(function (event) {\n      if (event.which == 27 && collector.show) {\n        collector.hide();\n      }\n    });\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,OAAA,EAAA,CACA;AACA,UAAA,IAAA,EAAA,WADA;AAEA,UAAA,OAAA,EAAA;AAFA,SADA;AADA,OADA,EASA;AACA,QAAA,OAAA,EAAA,CACA;AACA,UAAA,IAAA,EAAA,WADA;AAEA,UAAA,OAAA,EAAA;AAFA,SADA;AADA,OATA,CAHA;AAqBA,MAAA,OAAA,EAAA,CAAA;AArBA,KAAA;AAuBA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,sBAAA;AACA,KAJA;AAKA,IAAA,SALA,qBAKA,EALA,EAKA;AACA,UAAA,EAAA,IAAA,KAAA,MAAA,EAAA;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,YAAA,EAAA,uBAAA,EAAA,EAAA;AACA,KARA;AASA,IAAA,SATA,qBASA,EATA,EASA;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,YAAA,EAAA,uBAAA,EAAA,EAAA;AACA,KAXA;AAYA,IAAA,WAZA,yBAYA;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,YAAA,EAAA,yBAAA;AAEA;AAfA,GA1BA;AA2CA,EAAA,QAAA,EAAA,EA3CA;AA8CA,EAAA,OA9CA,qBA8CA;AAAA;;AACA,IAAA,MAAA,CAAA,SAAA,GAAA,IAAA;AACA,IAAA,EAAA,CAAA,EAAA,CAAA,wBAAA,EAAA,UAAA,MAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,MAAA;AACA,KAFA;AAGA,IAAA,EAAA,CAAA,EAAA,CAAA,yBAAA,EAAA,UAAA,KAAA,EAAA,OAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,KAHA;AAIA,IAAA,CAAA,CAAA,MAAA,CAAA,CAAA,KAAA,CAAA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,IAAA,EAAA,IAAA,SAAA,CAAA,IAAA,EAAA;AACA,QAAA,SAAA,CAAA,IAAA;AACA;AACA,KAJA;AAKA;AA5DA,CAAA","sourcesContent":["<template>\n    <div class=\"collector\" v-if=\"show\">\n        <div class=\"collector-menu\">\n            <div @click=\"hide\" class=\"exit\"><i class=\"fas fa-times\"></i></div>\n            <h1>РАБОТА ИНКАССАТОРОВ</h1>\n            <div class=\"select\">\n                <h2>ВЫБОР ЛОББИ</h2>\n                <div class=\"lobbys\">\n                    <div class=\"lobby\" v-for=\"(lobby,i) in lobbys\" :class=\"{active:active != -1 && active == i}\" @click=\"joinLobby(i)\" :key=\"i\">\n                        <div class=\"name\" >\n                            ЛОББИ #{{i+1}}\n                        </div>\n                        <div class=\"players\">\n                            <i class=\"fas fa-users\"></i>\n                            <span>{{lobby.players.length}}/4</span>\n                        </div>  \n                    </div>\n                 </div>\n            </div>\n            <div class=\"infoLobby\">\n                <h2>ЛОББИ #{{active+1}}</h2>\n                <div class=\"info\">\n                    <h3>{{lobbys[active].players.length}}/4</h3>\n                    <div class=\"players\">\n                        <div class=\"player\" v-for=\"(player,i) in lobbys[active].players\" :key=\"i\">\n                            <div class=\"nick\">{{player.name}}</div>\n                            <div class=\"mission\">{{player.mission}}</div>\n                            <div class=\"del\" v-if=\"mission == 0 && i != 0\" @click=\"kickLobby(i)\"><i class=\"fas fa-times\"></i></div>\n                        </div>\n                    </div>  \n                    <div class=\"start\" v-if=\"mission == 0\"  @click=\"startMisson\">НАЧАТЬ РАБОТУ</div>\n                </div>\n            </div>\n        </div>\n\n    </div>    \n</template>\n\n<style lang=\"scss\" src=\"../../styles/collector.scss\"></style>\n<script>\n    export default {\n    data() {\n        return {\n            show: false,\n            active: 0,\n            lobbys: [\n                {\n                    players: [\n                        {\n                            name: 'Test test',\n                            mission: 'Водитель'\n                        }\n                    ]\n                },\n                 {\n                    players: [\n                        {\n                            name: 'Test test',\n                            mission: 'Водитель'\n                        }\n                    ]\n                }\n            ],\n            mission: -1,\n        };\n    },\n    methods: {\n        hide(){\n            this.show = false;\n            mp.trigger('COLLECTOR::MENU_HIDE');\n        },\n        joinLobby(id){\n            if(id == this.active) return;\n            mp.trigger('CallRemote',\"COLLECTOR::JOIN_LOBBY\",id);\n        },\n        kickLobby(id){\n            mp.trigger('CallRemote','COLLECTOR::KICK_LOBBY',id)\n        },\n        startMisson(){\n            mp.trigger('CallRemote','COLLECTOR::START_MISION')\n\n        }\n    },\n    computed: {\n\n    },\n    created(){\n        window.collector = this;\n        mp.on(\"COLLECTOR::MENU_UPDATE\",(lobbys)=>{\n            this.lobbys = lobbys;\n        })\n        mp.on(\"COLLECTOR::ACTIVE_LOBBY\",(lobby,mission)=>{\n            this.active = lobby;\n            this.mission = mission;\n        })\n        $(\"body\").keyup(function(event){\n            if(event.which == 27 && collector.show){\n                collector.hide();\n            }\n        })\n    },\n};\n</script>"],"sourceRoot":"src/collector"}]}