{"remainingRequest":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\listPlayers\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\listPlayers\\index.vue","mtime":1558952847000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { constants } from 'fs';\nexport default {\n    data() {\n        return {\n            show: false,\n            title: 'West RolePlay',\n            reverse: false,\n            sortKey: 'id',\n            columnsInfo: ['id', 'Имя','Фракция','Пинг'],\n            columns_sortInfo: ['id', 'name','fractions','ping'],\n            search: '',\n            hasShowFraction: false,\n            players: []\n        };\n    },\n    methods: {\n        sortBy(key) {\n            try{\n                let sortKey = this.columns_sort[this.columns.indexOf(key)];\n                this.reverse = (this.sortKey == sortKey) ? !this.reverse : false;\n                this.sortKey = sortKey;\n            }catch(e){\n                console.error(e)\n            }\n        },\n        hide(){\n            this.show = false;\n            mp.trigger(\"guitoggle\", this.show);\n        },\n    },\n    computed: {\n        sortedPlayers() {\n            const k = this.sortKey;\n            return this.players.sort((a, b) => (a[k] < b[k] ? -1 : a[k] > b[k] ? 1 : 0) * [1, -1][+this.reverse]);\n        },\n        filteredPlayers() {\n            const s = this.search.toLowerCase();\n            let columns_sort = this.columns_sort;\n            let sortedPlayers = this.sortedPlayers;\n            let sort = sortedPlayers.map((item)=>{\n                let info = {};\n                return columns_sort.forEach((key)=>{\n                    info[key] = item[key];\n                })\n                return info\n            })\n            let t = sortedPlayers.filter(n => Object.values(n).some(m => m.toString().toLowerCase().includes(s)));\n            return t;\n        },\n        columns(){\n            if(this.hasShowFraction) return this.columnsInfo;\n            else return ['id', 'Имя','Пинг'];\n        },\n        columns_sort(){\n            if(this.hasShowFraction) return this.columns_sortInfo;\n            else return ['id', 'name','ping'];\n        }\n    },\n    created(){\n        window.list_players = this;\n        window.TogglewPlayersList =  (toggle)=>{\n            list_players.show = toggle;\n            mp.trigger(\"guitoggle\", toggle);\n            if(!toggle){\n                list_players.search = '';\n            }else{\n                mp.trigger('CallRemote',\"ShowPlayersList\")\n            }\n        }\n        mp.on('ShowPlayersList',(ret)=>{\n            list_players.players = ret;\n        })\n        $(\"body\").keyup(function(event){\n            if(event.which == 27 && list_players.show){\n                list_players.hide();\n            }\n        })\n    },\n};\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/listPlayers","sourcesContent":["<template>\n<div v-if=\"show\" class=\"list_players\" id=\"list_players\">\n\t\t<div class=\"title\">\n\t\t\t<h1>{{title}}</h1>\n\t\t\t<p class=\"players\">Игроков <span>{{players.length}}/800</span></p>\n\t\t\t <div class=\"input\">\n\t\t\t \t\t<i class=\"fas fa-search\"></i>\n\t\t\t \t\t<input v-model=\"search\" type=\"text\" placeholder=\"Поиск игрока...\">\n\t\t\t </div>\n\t\t</div>\n\t\t<div class=\"list\">\n\t\t\t<table>\n      \t<thead>\n          <tr>\n            <th v-for=\"(column,i) in columns\" :key=\"i\">\n            \t<span  @click=\"sortBy(column)\">\n\t            \t{{ column }} \n\t            \t<span :class=\"{ active: sortKey == columns_sort[columns.indexOf(column)] }\">\n                        <i v-if=\"sortKey ==  columns_sort[columns.indexOf(column)] && reverse\"   class=\"fas fa-sort-amount-up\"></i>\n                        <i v-else  class=\"fa fa-sort-amount-down\"></i>\n\t            \t</span>\n            \t</span>\n          \t</th>\n          </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(player,i) in filteredPlayers\" :key=\"i\">\n              <td>{{player.id}}</td>\n              <td>{{player.name}}</td>\n              <td v-if=\"hasShowFraction\">{{player.fractions}}</td>\n              <td>{{player.ping}}</td>\n            </tr>\n          </tbody>\n        </table>\n\t\t</div>\n\t</div>\n\n</template>\n<style src=\"../../styles/list_players.scss\"></style>\n\n<script>\nimport { constants } from 'fs';\nexport default {\n    data() {\n        return {\n            show: false,\n            title: 'West RolePlay',\n            reverse: false,\n            sortKey: 'id',\n            columnsInfo: ['id', 'Имя','Фракция','Пинг'],\n            columns_sortInfo: ['id', 'name','fractions','ping'],\n            search: '',\n            hasShowFraction: false,\n            players: []\n        };\n    },\n    methods: {\n        sortBy(key) {\n            try{\n                let sortKey = this.columns_sort[this.columns.indexOf(key)];\n                this.reverse = (this.sortKey == sortKey) ? !this.reverse : false;\n                this.sortKey = sortKey;\n            }catch(e){\n                console.error(e)\n            }\n        },\n        hide(){\n            this.show = false;\n            mp.trigger(\"guitoggle\", this.show);\n        },\n    },\n    computed: {\n        sortedPlayers() {\n            const k = this.sortKey;\n            return this.players.sort((a, b) => (a[k] < b[k] ? -1 : a[k] > b[k] ? 1 : 0) * [1, -1][+this.reverse]);\n        },\n        filteredPlayers() {\n            const s = this.search.toLowerCase();\n            let columns_sort = this.columns_sort;\n            let sortedPlayers = this.sortedPlayers;\n            let sort = sortedPlayers.map((item)=>{\n                let info = {};\n                return columns_sort.forEach((key)=>{\n                    info[key] = item[key];\n                })\n                return info\n            })\n            let t = sortedPlayers.filter(n => Object.values(n).some(m => m.toString().toLowerCase().includes(s)));\n            return t;\n        },\n        columns(){\n            if(this.hasShowFraction) return this.columnsInfo;\n            else return ['id', 'Имя','Пинг'];\n        },\n        columns_sort(){\n            if(this.hasShowFraction) return this.columns_sortInfo;\n            else return ['id', 'name','ping'];\n        }\n    },\n    created(){\n        window.list_players = this;\n        window.TogglewPlayersList =  (toggle)=>{\n            list_players.show = toggle;\n            mp.trigger(\"guitoggle\", toggle);\n            if(!toggle){\n                list_players.search = '';\n            }else{\n                mp.trigger('CallRemote',\"ShowPlayersList\")\n            }\n        }\n        mp.on('ShowPlayersList',(ret)=>{\n            list_players.players = ret;\n        })\n        $(\"body\").keyup(function(event){\n            if(event.which == 27 && list_players.show){\n                list_players.hide();\n            }\n        })\n    },\n};\n</script>"]}]}