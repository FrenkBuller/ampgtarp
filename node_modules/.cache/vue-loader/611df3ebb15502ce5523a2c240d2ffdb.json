{"remainingRequest":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\carshowroom\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\carshowroom\\index.vue","mtime":1558952847000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data() {\n        return {\n            show: false,\n            carName: '',\n            carPrice: 0,\n            carColor: 0,\n            carSpeed: 0,\n            carBrake: 0,\n            carFuel: 0,\n            carClutch: 0,\n            colorActive: 0,\n            nameType: '',\n            modal:false,\n            vehicles: [\n                {\n                    name: '3',\n\n                }\n            ], \n            currentSlide: 0,\n            colors: [\n                {\n                    colorId: 0, \n                    color: '#232323'\n                },\n                {\n                    colorId: 73, \n                    color: '#fff'\n                },\n                {\n                    colorId: 28, \n                    color: '#ed8f4a'\n                },\n                {\n                    colorId: 40,\n                    color: '#7ad573'\n                },\n                {\n                    colorId: 46, \n                    color: '#64b4d9'\n                },\n                {\n                    colorId: 13, \n                    color: '#ef4f4f'\n                },\n                {\n                    colorId: 32, \n                    color: '#fae44d'\n                },\n            ]\n        }\n    },\n    methods:{\n        move(value) {\n            let newCurrent;\n            const newIndex = this.currentSlide + value\n            if (newIndex > this.vehicles.length - 1) { this.currentSlide = 0;return;}\n            if (newIndex <= 0) newCurrent = this.vehicles.length - 1\n            this.currentSlide = newCurrent || newIndex;\n            mp.trigger('selectAuto', this.currentSlide)\n        },\n        \n        changeColor(id) {\n            let colorId = this.colors[id].colorId;\n            this.colorActive = id;\n            mp.trigger('selectColor', colorId)\n        },\n\n        hide() {\n            mp.trigger('clearroomcars');\n            this.modal = false;\n        },\n        start(nameType,vehs){\n            this.nameType = nameType;\n            this.currentSlide = 0;\n            this.colorActive = 0;\n            this.modal = false;\n            this.show = true;\n            this.vehicles = vehs;\n        },\n        buy(){\n            this.modal = false;\n            let veh = this.vehicles[this.currentSlide];\n            mp.trigger('CARSHOWROOM::BUY',veh.vehicleId)\n        }\n    },\n    created() {\n        window.carshowroom = this;\n        $(\"body\").keyup(function(event){\n            if(carshowroom.show){\n                if((event.which == 27 || event.which == 8) ){\n                    carshowroom.hide();\n                }\n                if(event.which == 39)carshowroom.move(1);\n                if(event.which == 37)carshowroom.move(-1);\n            }\n        })\n    },\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/carshowroom","sourcesContent":["<template>\n    <div class=\"carshowroom\">\n        <div class=\"container\" v-if=\"show\">\n            <div class=\"headline\">\n                <h2>{{nameType}}</h2>\n            </div>\n\n            <div class=\"carroom_item\">\n                <div class=\"carroom_item-top\">\n                    <div class=\"carroom_item-top__slide\">\n                        <div class=\"button\" @click=\"move(-1)\"></div>\n                        <p>{{ vehicles[currentSlide].name }}</p>\n                        <div class=\"button\" @click=\"move(1)\"></div>\n                    </div>\n                    <div class=\"carroom_item-top__price\">\n                        <i></i>\n                        {{ vehicles[currentSlide].price }}\n                    </div>\n                    <div class=\"carroom_item-top__colors\">\n                        <p>Основной цвет</p>\n                        <ul>\n                            <li v-for=\"(color,i) in colors\" :key=\"i\" \n                            :class=\"{active: colorActive == i}\" \n                            :style=\"{'backgroundColor': color.color}\"\n                            @click=\"changeColor(i)\"></li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"carroom_item-bottom\">\n                    <ul class=\"carroom_item-bottom__info\">\n                        <li>\n                            <i class=\"speed\"></i>\n                            {{ carSpeed }} км/ч\n                        </li>\n                        <li>\n                            <i class=\"condition\"></i>\n                            {{ carBrake }}%\n                        </li>\n                        <li>\n                            <i class=\"fuel\"></i>\n                            {{ carFuel }}л/10км.\n                        </li>\n                        <li>\n                            <i class=\"wheel\"></i>\n                            {{ carClutch }}%\n                        </li>\n                    </ul>\n                    <div class=\"carroom_item-bottom__buttons\">\n                        <a class=\"carroom_item-bottom__buttons-buy\" @click=\"modal = true\">\n                            Купить\n                        </a>\n                        <i></i>\n                        <a class=\"carroom_item-bottom__buttons-exit\" @click=\"hide()\">\n                            Выйти\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"manager\" class=\"modal-buy\" v-if=\"modal\">\n            <div class=\"modal-buy_content\">\n                <div class=\"modal-buy_content__header\">\n                    <img :src=\"$root.cdn+'img/carshowroom/manager.jpg'\" alt=\"Manager\">\n                    Manager\n                    <div class=\"close\" @click=\"modal = false\"></div>\n                </div>\n                <p>Ты точно хочешь приобрести автомобиль\n                {{ vehicles[currentSlide].name }} за {{ vehicles[currentSlide].price }}$?\n                </p>\n                <div class=\"modal-buy_content__buttons\">\n                    <a class=\"accept\" @click=\"buy\">\n                        Да, давай\n                    </a>\n                    <a class=\"cancel\" @click=\"modal = false\">\n                        Нет, спасибо\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<style lang=\"scss\" src=\"../../styles/carshowroom.scss\" scoped>\n</style>\n\n<script>\nexport default {\n    data() {\n        return {\n            show: false,\n            carName: '',\n            carPrice: 0,\n            carColor: 0,\n            carSpeed: 0,\n            carBrake: 0,\n            carFuel: 0,\n            carClutch: 0,\n            colorActive: 0,\n            nameType: '',\n            modal:false,\n            vehicles: [\n                {\n                    name: '3',\n\n                }\n            ], \n            currentSlide: 0,\n            colors: [\n                {\n                    colorId: 0, \n                    color: '#232323'\n                },\n                {\n                    colorId: 73, \n                    color: '#fff'\n                },\n                {\n                    colorId: 28, \n                    color: '#ed8f4a'\n                },\n                {\n                    colorId: 40,\n                    color: '#7ad573'\n                },\n                {\n                    colorId: 46, \n                    color: '#64b4d9'\n                },\n                {\n                    colorId: 13, \n                    color: '#ef4f4f'\n                },\n                {\n                    colorId: 32, \n                    color: '#fae44d'\n                },\n            ]\n        }\n    },\n    methods:{\n        move(value) {\n            let newCurrent;\n            const newIndex = this.currentSlide + value\n            if (newIndex > this.vehicles.length - 1) { this.currentSlide = 0;return;}\n            if (newIndex <= 0) newCurrent = this.vehicles.length - 1\n            this.currentSlide = newCurrent || newIndex;\n            mp.trigger('selectAuto', this.currentSlide)\n        },\n        \n        changeColor(id) {\n            let colorId = this.colors[id].colorId;\n            this.colorActive = id;\n            mp.trigger('selectColor', colorId)\n        },\n\n        hide() {\n            mp.trigger('clearroomcars');\n            this.modal = false;\n        },\n        start(nameType,vehs){\n            this.nameType = nameType;\n            this.currentSlide = 0;\n            this.colorActive = 0;\n            this.modal = false;\n            this.show = true;\n            this.vehicles = vehs;\n        },\n        buy(){\n            this.modal = false;\n            let veh = this.vehicles[this.currentSlide];\n            mp.trigger('CARSHOWROOM::BUY',veh.vehicleId)\n        }\n    },\n    created() {\n        window.carshowroom = this;\n        $(\"body\").keyup(function(event){\n            if(carshowroom.show){\n                if((event.which == 27 || event.which == 8) ){\n                    carshowroom.hide();\n                }\n                if(event.which == 39)carshowroom.move(1);\n                if(event.which == 37)carshowroom.move(-1);\n            }\n        })\n    },\n}\n</script>\n"]}]}