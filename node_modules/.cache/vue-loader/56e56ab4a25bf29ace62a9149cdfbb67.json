{"remainingRequest":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\personal\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\src\\personal\\index.vue","mtime":1558952847000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\west-master\\packages\\server\\HTML\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport RangeSlider from 'vue-range-slider';\n\n\nlet facial_hair = [\"Нет\", \"Света\", \"Бальбо\", \"Круг Борода\", \"Гоате\", \"Чин\", \"Чин Фудз\", \"Ремень карандашом\", \"Скраффы\", \"Мушкетер\", \"Усы\", \"Борода\", \"Стержень\", \"Тонкая круглая\", \"Подкова\", \"Карандаш и отбивные\", \"Чин-ремешок-борода\", \"Бальбо и бадберны\", \"Отбивные из баранины\", \"Скраппи\", \"Усы\", \"Кудрявый\", \"Кудрявый глубокий незнакомец\", \"Руль\", \"Фаустик\", \"Отто и патч\", \"Отто и полный незнакомец\", \"Свет Франц\", \"Хэмпстед\", \"Амброуз\", \"Занавес Линкольна\"]\nlet facial_hair_color = [\"Тёмно красный\",\"Светло красный\",\"Красный\",\"Тёмно оранжевый\",\"Оранжевый\",\"Светло Оранжевый\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",'10','11','12','13','14','15','16']\nexport default {\n    data() {\n        return {\n            show: false,\n            index: 0,\n            sliderValue: 50,\n            motherIndex: 0,\n            dadIndex: 0,\n            faces: [\n                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 42, 43, 44], \n                [21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 45]\n            ],\n            items: {\n                'start': [\n                    {\n                        type: 0,\n                        name: 'Пол',\n                        array: [\"Мужской\",\"Женский\"],\n                        call: 'Personal_Skin',\n                        camera: 0,\n                        index: 0,\n                    },\n                    {\n                        type: 1,\n                        name: 'Возраст',\n                        min: 18,\n                        max: 99,\n                        index: 25,\n                        call: \"PERSONAL::CHANGE_AGE\"\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет кожи',\n                        camera: 1,\n                        index: 0,\n                        call: 'Personal_ShapeMix',\n                        max: 10,\n                    },\n                    {\n                        type: 2,\n                        name: 'Сходство',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_SkinMix',\n                        max: 10,\n                    },\n                ],\n                'exterior': [\n                    \n                    {\n                        type: 2,\n                        name: 'Волосы',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_Appearance',\n                        data: 0,\n                        max: 36,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет волос',\n                        camera: 0,\n                        index: 0,\n                        data: 1,\n                        call: 'Personal_Appearance',\n                        max: 63,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет кончиков волос',\n                        camera: 0,\n                        index: 0,\n                        data: 2,\n                        call: 'Personal_Appearance',\n                        max: 63,\n                    },\n                    {\n                        type: 2,\n                        name: 'Глаза',\n                        camera: 0,\n                        index: 0,\n                        data: 3,\n                        call: 'Personal_Appearance',\n                        max: 6,\n                    },\n                    {\n                        type: 1,\n                        name: 'Торс',\n                        index: 0,\n                        call: 'Personal_Tors',\n                        camera: 4,\n                        max: 7,\n                        min: 0,\n                    },\n                    {\n                        type: 1,\n                        name: 'Цвет торса',\n                        index: 0,\n                        call: 'Personal_Tors_Color',\n                        camera: 4,\n                        max: 8,\n                        min: 0,\n                    },\n                    {\n                        type: 1,\n                        name: 'Нижняя одежда',\n                        index: 0,\n                        call: 'Personal_Down',\n                        camera: 4,\n                        max: 13,\n                        min: 0,\n                    },\n                    {\n                       type: 1,\n                        name: 'Цвет нижней одежда',\n                        index: 0,\n                        call: 'Personal_Down_Color',\n                        camera: 4,\n                        max: 0,\n                        min: 0,\n                    },\n                    {\n                        type: 2,\n                        name: 'Штаны',\n                        camera: 3,\n                        index: 0,\n                        call: 'Personal_Pants',\n                        max: 6,\n                    },\n                    {\n                        type: 2,\n                        name: 'Обувь',\n                        camera: 2,\n                        index: 0,\n                        call: 'Personal_Footwear',\n                        max: 5,\n                    },\n                    {\n                        type: 0,\n                        name: 'Борода',\n                        array: facial_hair,\n                        call: 'Personal_facial_hair',\n                        index: 0,\n                        camera: 0,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет бороды',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_facial_hair_color',\n                        max: 12,\n                        hide: true,\n                    },\n                    {\n                        type: 2,\n                        name: 'Насыщеность бороды',\n                        index: 25,\n                        call: 'Personal_facial_hair_opacity',\n                        max: 25,\n                        hide: true,\n                        camera: 0,\n                    },\n                    {\n                        type: 2,\n                        name: 'Брови',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_EyeBrows',\n                        max: 34,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет бровей',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_EyeBrows_Color',\n                        max: 63,\n                    },\n                ],\n                'features':[\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ширина носа\",\n                        \"data\": 0,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высота носа\",\n                        \"data\": 1,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Длина носа\",\n                        \"data\": 2,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Профиль носа\",\n                        \"data\": 3,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Направление носа\",\n                        \"data\": 4,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Переносится носа\",\n                        \"data\": 5,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высота лба\",\n                        \"data\": 6,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Выпуклость лба\",\n                        \"data\": 7,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высота щек\",\n                        \"data\": 8,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер щек\",\n                        \"data\": 9,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер скул\",\n                        \"data\": 10,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер глаз\",\n                        \"data\": 11,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер губ\",\n                        \"data\": 12,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ширина челюсти\",\n                        \"data\": 13,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Длина подбородка\",\n                        \"data\": 14,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высотка подбородка\",\n                        \"data\": 15,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Форма подборока\",\n                        \"data\": 16,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ширина подбородке\",\n                        \"data\": 17,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ямочка на подбородке\",\n                        \"data\": 18,\n                        \"max\": 10,\n                        \"index\": 5,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер шеи\",\n                        \"data\": 19,\n                        \"max\": 10,\n                        \"index\": 5,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    }\n                ],\n            },\n            \n            tab: 'start'\n        };\n    },\n    watch: {\n        index: function (val, oldVal) {\n            try{\n\n                let h = this.index*60;\n                this.$refs.items.scrollTop = h;\n                let item = this.getItems()[this.index];\n                if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n            }catch(e){}\n        },\n    },\n    methods: {\n        start(){\n            try{\n                this.show = true;\n                this.index = 0;\n                this.tab = 'start';\n            }catch(e){}\n        },\n        back(){\n            try{\n                if(this.tab == 'features')this.tab = 'exterior';\n                else if(this.tab == 'exterior')this.tab = 'start';\n                this.index = 0;\n            }catch(e){}\n        },\n        next(){\n            try{\n                if(this.tab == 'exterior')this.tab = 'features';\n                else if(this.tab == 'start')this.tab = 'exterior';\n                else if(this.tab == 'features'){\n                    mp.trigger('Personal_Appearance_OK');\n                    this.show = false;\n                }\n                this.index = 0;\n            }catch(e){}\n        },\n        backImage(type){\n            try{\n                if(type == 'mother'){\n                    this.motherIndex = 0 != this.motherIndex ? this.motherIndex - 1  : this.faces[1].length - 1;\n                    mp.trigger('Personal_Mam',this.motherIndex);\n                }\n                else{\n                    this.dadIndex =  0 != this.dadIndex ? this.dadIndex - 1  : this.faces[0].length - 1;\n                    mp.trigger('Personal_Dad',this.dadIndex);\n                } \n            }catch(e){}\n        },\n        nextImage(type){\n            try{\n                if(type == 'mother'){\n                    this.motherIndex = this.faces[1].length-1 > this.motherIndex ? this.motherIndex + 1  : 0;\n                    mp.trigger('Personal_Mam',this.motherIndex);\n                }\n                else{\n                    this.dadIndex = this.faces[0].length-1 > this.dadIndex ? this.dadIndex + 1  : 0;\n                    mp.trigger('Personal_Dad',this.dadIndex);\n                } \n            }catch(e){}\n        },\n        editSector(id,index,tab = 'exterior'){\n            try{\n                this.items[tab][id].index = index;\n                let item = this.getItems()[id];\n                if(item.call){\n                    if(this.tab != 'features')mp.trigger(item.call,item.index,item.data)\n                    else{\n                        index = item.max == 20 ?  index/10-1 :  index/10;\n                        mp.trigger(item.call,item.data,index)\n                    }\n                }\n                if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n            }catch(e){}\n        },\n        changeSector(id,index,tab = 'exterior'){\n            try{\n                let item = this.getItems()[id];\n                item.index = index;\n                if(item.call){\n                    if(this.tab != 'features')mp.trigger(item.call,item.index,item.data)\n                    else{\n                        index = item.max == 20 ?  index/10-1 :  index/10;\n                        mp.trigger(item.call,item.data,index)\n                    }\n                }\n                if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n            }catch(e){}\n        },\n        editSectorMax(id,max,tab = 'exterior'){\n            try{   \n                this.items[tab][id].max = max;\n                this.items[tab][id].index = 0;\n                let item = this.items[tab][id];\n                if(item.call)mp.trigger(item.call,item.index,item.data)\n            }catch(e){}\n        },\n        showItem(id,tab = 'exterior'){\n            try{\n                this.items[tab][id].hide = false;\n                let index = this.index;\n                this.index = 0;\n                this.$nextTick(function () {\n                    try{\n                        this.index = index;\n                   }catch(e){}\n                });\n            }catch(e){}\n        },\n        hideItem(id,tab = 'exterior'){\n            try{    \n                this.items[tab][id].hide = true;\n                let length = this.getItems().length;\n                let index = this.index;\n                this.index = 0;\n                this.$nextTick(function () {\n                    try{\n                        if(index > length-1)this.index = length-1;\n                        else this.index = index;\n                    }catch(e){}\n                });\n            }catch(e){}\n        },\n        getItems() {\n            try{\n                let items = [];\n                    for(let i =0;i<this.items[this.tab].length;i++){\n                        if(!this.items[this.tab][i].hide){\n                            items.push(this.items[this.tab][i]);\n                        }\n                }\n                return items;\n            }catch(e){}\n        },\n        nextItem(item){\n            try{\n                if(item.hide)return;\n                if(item.type == 0 ){\n                    item.index = item.array.length-1 > item.index ? item.index + 1  : 0;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                    if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n                }\n                if(item.type == 1 ){\n                    item.index = item.max > item.index ? item.index + 1  : item.min;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                    if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n                }\n            }catch(e){}\n        },\n        backItem(item){\n            try{\n                if(item.hide)return;\n                if(item.type == 0 ){\n                    item.index = 0 != item.index ? item.index - 1  : item.array.length-1;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                }\n                if(item.type == 1 ){\n                    item.index = item.min != item.index ? item.index - 1  : item.max;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                }\n            }catch(e){}\n        }\n    },\n    computed: {\n        \n    },\n    created(){\n        let personal = this;\n        window.personal = this;\n        $(\"body\").keydown(function(event){\n            try{\n                if(!personal.show) return; \n                let items = personal.getItems();\n                let item = items[personal.index];\n                if(event.which == 8){\n                    personal.back();\n                }\n                if(event.which == 40){\n                    if(personal.index < items.length-1) personal.index++;\n                    else personal.index = 0;\n                }\n                if(event.which == 38){\n                    if(personal.index != 0) personal.index--;\n                    else personal.index = items.length-1;\n                }\n                if(event.which == 39){\n                    if(item.type == 2 ){\n                        let index = item.max > item.index ? item.index + 1  : 0;\n                        personal.changeSector(personal.index,index,personal.tab);\n                    }else personal.nextItem(item);\n                }\n                if(event.which == 37){\n                    if(item.type == 2){\n                        let index = 0 != item.index ? item.index - 1  : item.max;\n                        personal.changeSector(personal.index,index,personal.tab);\n                    }else personal.backItem(item);\n                }\n            }catch(e){}\n        });\n    },\n    components: {\n        RangeSlider\n    }\n};\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/personal","sourcesContent":["<template>\n    <div class=\"personal\" v-if=\"show\">\n        <div class=\"tabs\">\n            <div class=\"title\">\n                Редактор персонажа\n            </div>\n             <div class=\"contentHeritage\" v-if=\"tab == 'start'\">\n                    <div class=\"heritage\">\n                        <div class=\"sec mother\">\n                            <div class=\"contentArrow\">\n                                <div class=\"arrows\">\n                                    <i class=\"fal fa-angle-left arrow-left\" @click=\"backImage('mother')\"></i>\n                                    <i class=\"fal fa-angle-right arrow-right\" @click=\"nextImage('mother')\"></i>\n                                </div>\n                            </div>\n                            <div class=\"contentImg\">\n                                <div class=\"img\">\n                                    <img :src=\"$root.cdn+`img/personal/face/${this.faces[1][this.motherIndex]}.png`\" alt=\"\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"sec dad\">\n                            <div class=\"contentArrow\">\n                                <div class=\"arrows\">\n                                    <i class=\"fal fa-angle-left arrow-left\" @click=\"backImage('dad')\"></i>\n                                    <i class=\"fal fa-angle-right arrow-right\" @click=\"nextImage('dad')\"></i>\n                                </div>\n                            </div>\n                            <div class=\"contentImg\">\n                                <div class=\"img\">\n                                    <img :src=\"$root.cdn+`img/personal/face/${this.faces[0][this.dadIndex]}.png`\" alt=\"\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            <div class=\"items\" ref=\"items\">\n               <div class=\"back\" v-if=\"tab != 'start'\" @click=\"back\"><i class=\"fal fa-arrow-left\"></i> Назад</div>\n                <div class=\"itemsBlock\" :style=\"tab != 'start' ? 'margin-top: 10px' :''\">\n                    <div class=\"item\" v-for=\"(item,i) in getItems()\" :key=\"i\" :class=\"{active: index == i}\">\n                        <div class=\"content\" >\n                            <div class=\"left\">{{item.name}}</div>\n                            <div class=\"right vari\" v-if=\"item.type != 2\">\n                                <i class=\"fas fa-angle-left arrow-left\" @click=\"backItem(item)\"></i>\n                                    <span>{{item.type == 0 ? item.array[item.index] : item.index }}</span>\n                                <i class=\"fas fa-angle-right arrow-right\" @click=\"nextItem(item)\"></i>\n                            </div>\n                            <div v-else>\n                                <RangeSlider\n                                    class=\"slider\"\n                                    min=\"0\"\n                                    :max=\"item.max\"\n                                    :step=\"1\"\n                                    v-model=\"item.index\"\n                                    @input=\"changeSector(i,$event,tab);\"\n                                    >\n                                </RangeSlider>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"but\" @click=\"next\">\n                {{ tab != 'features' ? 'Продолжить'  : 'Закончить' }}\n            </div>\n        </div>\n    </div>\n</template>\n<style lang=\"scss\" src=\"../../styles/personal.scss\"></style>\n\n<script>\nimport RangeSlider from 'vue-range-slider';\n\n\nlet facial_hair = [\"Нет\", \"Света\", \"Бальбо\", \"Круг Борода\", \"Гоате\", \"Чин\", \"Чин Фудз\", \"Ремень карандашом\", \"Скраффы\", \"Мушкетер\", \"Усы\", \"Борода\", \"Стержень\", \"Тонкая круглая\", \"Подкова\", \"Карандаш и отбивные\", \"Чин-ремешок-борода\", \"Бальбо и бадберны\", \"Отбивные из баранины\", \"Скраппи\", \"Усы\", \"Кудрявый\", \"Кудрявый глубокий незнакомец\", \"Руль\", \"Фаустик\", \"Отто и патч\", \"Отто и полный незнакомец\", \"Свет Франц\", \"Хэмпстед\", \"Амброуз\", \"Занавес Линкольна\"]\nlet facial_hair_color = [\"Тёмно красный\",\"Светло красный\",\"Красный\",\"Тёмно оранжевый\",\"Оранжевый\",\"Светло Оранжевый\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",'10','11','12','13','14','15','16']\nexport default {\n    data() {\n        return {\n            show: false,\n            index: 0,\n            sliderValue: 50,\n            motherIndex: 0,\n            dadIndex: 0,\n            faces: [\n                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 42, 43, 44], \n                [21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 45]\n            ],\n            items: {\n                'start': [\n                    {\n                        type: 0,\n                        name: 'Пол',\n                        array: [\"Мужской\",\"Женский\"],\n                        call: 'Personal_Skin',\n                        camera: 0,\n                        index: 0,\n                    },\n                    {\n                        type: 1,\n                        name: 'Возраст',\n                        min: 18,\n                        max: 99,\n                        index: 25,\n                        call: \"PERSONAL::CHANGE_AGE\"\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет кожи',\n                        camera: 1,\n                        index: 0,\n                        call: 'Personal_ShapeMix',\n                        max: 10,\n                    },\n                    {\n                        type: 2,\n                        name: 'Сходство',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_SkinMix',\n                        max: 10,\n                    },\n                ],\n                'exterior': [\n                    \n                    {\n                        type: 2,\n                        name: 'Волосы',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_Appearance',\n                        data: 0,\n                        max: 36,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет волос',\n                        camera: 0,\n                        index: 0,\n                        data: 1,\n                        call: 'Personal_Appearance',\n                        max: 63,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет кончиков волос',\n                        camera: 0,\n                        index: 0,\n                        data: 2,\n                        call: 'Personal_Appearance',\n                        max: 63,\n                    },\n                    {\n                        type: 2,\n                        name: 'Глаза',\n                        camera: 0,\n                        index: 0,\n                        data: 3,\n                        call: 'Personal_Appearance',\n                        max: 6,\n                    },\n                    {\n                        type: 1,\n                        name: 'Торс',\n                        index: 0,\n                        call: 'Personal_Tors',\n                        camera: 4,\n                        max: 7,\n                        min: 0,\n                    },\n                    {\n                        type: 1,\n                        name: 'Цвет торса',\n                        index: 0,\n                        call: 'Personal_Tors_Color',\n                        camera: 4,\n                        max: 8,\n                        min: 0,\n                    },\n                    {\n                        type: 1,\n                        name: 'Нижняя одежда',\n                        index: 0,\n                        call: 'Personal_Down',\n                        camera: 4,\n                        max: 13,\n                        min: 0,\n                    },\n                    {\n                       type: 1,\n                        name: 'Цвет нижней одежда',\n                        index: 0,\n                        call: 'Personal_Down_Color',\n                        camera: 4,\n                        max: 0,\n                        min: 0,\n                    },\n                    {\n                        type: 2,\n                        name: 'Штаны',\n                        camera: 3,\n                        index: 0,\n                        call: 'Personal_Pants',\n                        max: 6,\n                    },\n                    {\n                        type: 2,\n                        name: 'Обувь',\n                        camera: 2,\n                        index: 0,\n                        call: 'Personal_Footwear',\n                        max: 5,\n                    },\n                    {\n                        type: 0,\n                        name: 'Борода',\n                        array: facial_hair,\n                        call: 'Personal_facial_hair',\n                        index: 0,\n                        camera: 0,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет бороды',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_facial_hair_color',\n                        max: 12,\n                        hide: true,\n                    },\n                    {\n                        type: 2,\n                        name: 'Насыщеность бороды',\n                        index: 25,\n                        call: 'Personal_facial_hair_opacity',\n                        max: 25,\n                        hide: true,\n                        camera: 0,\n                    },\n                    {\n                        type: 2,\n                        name: 'Брови',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_EyeBrows',\n                        max: 34,\n                    },\n                    {\n                        type: 2,\n                        name: 'Цвет бровей',\n                        camera: 0,\n                        index: 0,\n                        call: 'Personal_EyeBrows_Color',\n                        max: 63,\n                    },\n                ],\n                'features':[\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ширина носа\",\n                        \"data\": 0,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высота носа\",\n                        \"data\": 1,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Длина носа\",\n                        \"data\": 2,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Профиль носа\",\n                        \"data\": 3,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Направление носа\",\n                        \"data\": 4,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Переносится носа\",\n                        \"data\": 5,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высота лба\",\n                        \"data\": 6,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Выпуклость лба\",\n                        \"data\": 7,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высота щек\",\n                        \"data\": 8,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер щек\",\n                        \"data\": 9,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер скул\",\n                        \"data\": 10,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер глаз\",\n                        \"data\": 11,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер губ\",\n                        \"data\": 12,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ширина челюсти\",\n                        \"data\": 13,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Длина подбородка\",\n                        \"data\": 14,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Высотка подбородка\",\n                        \"data\": 15,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Форма подборока\",\n                        \"data\": 16,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ширина подбородке\",\n                        \"data\": 17,\n                        \"max\": 20,\n                        \"index\": 10,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Ямочка на подбородке\",\n                        \"data\": 18,\n                        \"max\": 10,\n                        \"index\": 5,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    },\n                    {\n                        \"type\": 2,\n                        \"name\": \"Размер шеи\",\n                        \"data\": 19,\n                        \"max\": 10,\n                        \"index\": 5,\n                        \"camera\": 0,\n                        \"call\": \"Personal_Features\"\n                    }\n                ],\n            },\n            \n            tab: 'start'\n        };\n    },\n    watch: {\n        index: function (val, oldVal) {\n            try{\n\n                let h = this.index*60;\n                this.$refs.items.scrollTop = h;\n                let item = this.getItems()[this.index];\n                if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n            }catch(e){}\n        },\n    },\n    methods: {\n        start(){\n            try{\n                this.show = true;\n                this.index = 0;\n                this.tab = 'start';\n            }catch(e){}\n        },\n        back(){\n            try{\n                if(this.tab == 'features')this.tab = 'exterior';\n                else if(this.tab == 'exterior')this.tab = 'start';\n                this.index = 0;\n            }catch(e){}\n        },\n        next(){\n            try{\n                if(this.tab == 'exterior')this.tab = 'features';\n                else if(this.tab == 'start')this.tab = 'exterior';\n                else if(this.tab == 'features'){\n                    mp.trigger('Personal_Appearance_OK');\n                    this.show = false;\n                }\n                this.index = 0;\n            }catch(e){}\n        },\n        backImage(type){\n            try{\n                if(type == 'mother'){\n                    this.motherIndex = 0 != this.motherIndex ? this.motherIndex - 1  : this.faces[1].length - 1;\n                    mp.trigger('Personal_Mam',this.motherIndex);\n                }\n                else{\n                    this.dadIndex =  0 != this.dadIndex ? this.dadIndex - 1  : this.faces[0].length - 1;\n                    mp.trigger('Personal_Dad',this.dadIndex);\n                } \n            }catch(e){}\n        },\n        nextImage(type){\n            try{\n                if(type == 'mother'){\n                    this.motherIndex = this.faces[1].length-1 > this.motherIndex ? this.motherIndex + 1  : 0;\n                    mp.trigger('Personal_Mam',this.motherIndex);\n                }\n                else{\n                    this.dadIndex = this.faces[0].length-1 > this.dadIndex ? this.dadIndex + 1  : 0;\n                    mp.trigger('Personal_Dad',this.dadIndex);\n                } \n            }catch(e){}\n        },\n        editSector(id,index,tab = 'exterior'){\n            try{\n                this.items[tab][id].index = index;\n                let item = this.getItems()[id];\n                if(item.call){\n                    if(this.tab != 'features')mp.trigger(item.call,item.index,item.data)\n                    else{\n                        index = item.max == 20 ?  index/10-1 :  index/10;\n                        mp.trigger(item.call,item.data,index)\n                    }\n                }\n                if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n            }catch(e){}\n        },\n        changeSector(id,index,tab = 'exterior'){\n            try{\n                let item = this.getItems()[id];\n                item.index = index;\n                if(item.call){\n                    if(this.tab != 'features')mp.trigger(item.call,item.index,item.data)\n                    else{\n                        index = item.max == 20 ?  index/10-1 :  index/10;\n                        mp.trigger(item.call,item.data,index)\n                    }\n                }\n                if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n            }catch(e){}\n        },\n        editSectorMax(id,max,tab = 'exterior'){\n            try{   \n                this.items[tab][id].max = max;\n                this.items[tab][id].index = 0;\n                let item = this.items[tab][id];\n                if(item.call)mp.trigger(item.call,item.index,item.data)\n            }catch(e){}\n        },\n        showItem(id,tab = 'exterior'){\n            try{\n                this.items[tab][id].hide = false;\n                let index = this.index;\n                this.index = 0;\n                this.$nextTick(function () {\n                    try{\n                        this.index = index;\n                   }catch(e){}\n                });\n            }catch(e){}\n        },\n        hideItem(id,tab = 'exterior'){\n            try{    \n                this.items[tab][id].hide = true;\n                let length = this.getItems().length;\n                let index = this.index;\n                this.index = 0;\n                this.$nextTick(function () {\n                    try{\n                        if(index > length-1)this.index = length-1;\n                        else this.index = index;\n                    }catch(e){}\n                });\n            }catch(e){}\n        },\n        getItems() {\n            try{\n                let items = [];\n                    for(let i =0;i<this.items[this.tab].length;i++){\n                        if(!this.items[this.tab][i].hide){\n                            items.push(this.items[this.tab][i]);\n                        }\n                }\n                return items;\n            }catch(e){}\n        },\n        nextItem(item){\n            try{\n                if(item.hide)return;\n                if(item.type == 0 ){\n                    item.index = item.array.length-1 > item.index ? item.index + 1  : 0;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                    if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n                }\n                if(item.type == 1 ){\n                    item.index = item.max > item.index ? item.index + 1  : item.min;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                    if(typeof item.camera != \"undefined\")mp.trigger('Personal_camera',item.camera)\n                }\n            }catch(e){}\n        },\n        backItem(item){\n            try{\n                if(item.hide)return;\n                if(item.type == 0 ){\n                    item.index = 0 != item.index ? item.index - 1  : item.array.length-1;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                }\n                if(item.type == 1 ){\n                    item.index = item.min != item.index ? item.index - 1  : item.max;\n                    if(item.call)mp.trigger(item.call,item.index,item.data)\n                }\n            }catch(e){}\n        }\n    },\n    computed: {\n        \n    },\n    created(){\n        let personal = this;\n        window.personal = this;\n        $(\"body\").keydown(function(event){\n            try{\n                if(!personal.show) return; \n                let items = personal.getItems();\n                let item = items[personal.index];\n                if(event.which == 8){\n                    personal.back();\n                }\n                if(event.which == 40){\n                    if(personal.index < items.length-1) personal.index++;\n                    else personal.index = 0;\n                }\n                if(event.which == 38){\n                    if(personal.index != 0) personal.index--;\n                    else personal.index = items.length-1;\n                }\n                if(event.which == 39){\n                    if(item.type == 2 ){\n                        let index = item.max > item.index ? item.index + 1  : 0;\n                        personal.changeSector(personal.index,index,personal.tab);\n                    }else personal.nextItem(item);\n                }\n                if(event.which == 37){\n                    if(item.type == 2){\n                        let index = 0 != item.index ? item.index - 1  : item.max;\n                        personal.changeSector(personal.index,index,personal.tab);\n                    }else personal.backItem(item);\n                }\n            }catch(e){}\n        });\n    },\n    components: {\n        RangeSlider\n    }\n};\n</script>"]}]}